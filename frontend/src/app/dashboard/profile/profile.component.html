<app-confirmation-modal
  *ngIf="showDeleteModal"
  title="Delete Account"
  message="This will erase all your data including giftcards, discounts,etc.?"
  confirmText="Delete"
  (onCancel)="onCancelDel()"
  (onConfirm)="onDelete()"
></app-confirmation-modal>

<div *ngIf="!loading">
  <p class="text-2xl font-medium text-gray-800 mb-6">Profile Information</p>



  <form [formGroup]="profileForm" (ngSubmit)="onSubmit()">
    <div class="gap-6">

      <div>
        <label for="name" class="block text-gray-600 mb-2">Name</label>
        <input id="name" type="text" formControlName="name" class="w-[40%]  p-3 border rounded bg-gray-100 text-gray-500" [readonly]="!isEditing" *ngIf="!isEditing" />
        <input id="name" type="text" formControlName="name" class="w-[40%]  p-3 border rounded bg-gray-100" *ngIf="isEditing" />
      </div>

      <div>
        <label for="gender" class="block text-gray-700 mb-2 mt-7">Gender</label>
        <div class="flex space-x-4">
          <label class="flex items-center">
            <input
              id="male"
              type="radio"
              formControlName="gender"
              value="Male"
              [disabled]="!isEditing"
              class="text-blue-500 checked:bg-gray-500 focus:ring-blue-500"
            />
            <span class="ml-2 text-gray-500">Male</span>
          </label>

          <label class="flex items-center">
            <input
              id="female"
              type="radio"
              formControlName="gender"
              value="Female"
              [disabled]="!isEditing"
              class="text-blue-500 checked:bg-gray-500 focus:ring-blue-500"
            />
            <span class="ml-2 text-gray-500">Female</span>
          </label>

          <label class="flex items-center">
            <input
              id="other"
              type="radio"
              formControlName="gender"
              value="Other"
              [disabled]="!isEditing"
              class="text-blue-500 checked:bg-gray-500 focus:ring-blue-500"
            />
            <span class="ml-2 text-gray-500">Other</span>
          </label>
        </div>
      </div>

      <div class="col-span-2">
        <label for="email" class="block text-gray-700 mb-2 mt-7">Email</label>
        <input id="email" type="email" formControlName="email" class="w-[40%] p-3 border rounded bg-gray-100 text-gray-500" [readonly]="!isEditing" *ngIf="!isEditing"/>
        <input id="email" type="email" formControlName="email" class="w-[40%] p-3 border rounded bg-gray-100" *ngIf="isEditing" />
      </div>

      <div>
        <label for="phone" class="block text-gray-700 mb-2 mt-7">Mobile Number</label>
        <input id="phone" type="text" formControlName="phone" class="w-[40%]  p-3 border rounded bg-gray-100 text-gray-500" [readonly]="!isEditing" *ngIf="!isEditing"/>
        <input id="phone" type="text" formControlName="phone" class="w-[40%]  p-3 border rounded bg-gray-100" *ngIf="isEditing"/>
      </div>



    </div>

    <div class="mt-8 flex justify-between">
      <button type="button" class="text-gray-500 font-medium" (click)="toggleEdit()">{{ isEditing ? 'Cancel' : 'Edit' }}</button>
      <button type="submit" class="bg-red-500 text-white px-5 py-3 rounded" [disabled]="!isEditing">Save Changes</button>
    </div>
  </form>


  <div class="w-full max-w-4xl mt-6">
    <p class="text-xl font-medium text-gray-800 mb-4">FAQs</p>

    <div class="mb-4 text-sm pt-4">
      <p class="text-sm font-medium text-gray-700 mb-2">
        What happens when I update my email address (or mobile number)?
      </p>
      <p class="text-gray-600">
        Your login email id (or mobile number) changes, likewise. You'll receive all your account-related communication on your updated email address (or mobile number).
      </p>
    </div>

    <div class="mb-4 text-sm pt-4">
      <p class=" font-medium text-gray-700 mb-2">
        When will my ShopNest account be updated with the new email address (or mobile number)?
      </p>
      <p class="text-gray-600">
        It happens as soon as you confirm the verification code sent to your email (or mobile) and save the changes.
      </p>
    </div>

    <div class="mb-4 text-sm pt-4">
      <p class=" font-medium text-gray-700 mb-2">
        What happens to my existing ShopNest account when I update my email address (or mobile number)?
      </p>
      <p class="text-gray-600">
        Updating your email address (or mobile number) doesn't invalidate your account. Your account remains fully functional. You'll continue seeing your Order history, saved information, and personal details.
      </p>
    </div>

    <div class="text-sm mb-3 pt-4">
      <p class=" font-medium text-gray-700 mb-2">
        Does my Seller account get affected when I update my email address?
    </p>
      <p class="text-gray-600">
        ShopNest has a 'single sign-on' policy. Any changes will reflect in your Seller account also.
      </p>
    </div>
  </div>


  <button (click)="onDel()" class="text-red-500 text-md font-medium mt-3">
    Delete Account
  </button>
</div>


<!-- Loading -->
<div *ngIf="loading" class="mt-[150px] mb-[150px] mx-auto loader">
  <p>Loading...</p>
</div>

<div class="container mx-auto px-4 py-8">
  <h1 class="text-3xl font-bold mb-6 text-gray-800">Manage Categories</h1>

  <div *ngIf="successMessage" class="mb-4 p-4 bg-green-100 text-green-700 rounded-md">
    {{ successMessage }}
  </div>
  <div *ngIf="errorMessage" class="mb-4 p-4 bg-red-100 text-red-700 rounded-md">
    {{ errorMessage }}
  </div>

  <div class="bg-white p-6 rounded-lg shadow-md">
    <h2 class="text-xl font-semibold mb-4 text-gray-700">Categories</h2>
    <ul class="divide-y divide-gray-200">
      <li *ngFor="let category of categories" class="py-4 flex justify-between items-center">
        <ng-container *ngIf="editingCategory?.id !== category.id; else editForm">
          <span class="text-gray-800">{{ category.name }}</span>
          <div>
            <button
              (click)="startEditing(category)"
              class="px-3 py-1 bg-blue-500 text-white rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 mr-2"
            >
              Edit
            </button>
            <button
              (click)="deleteCategory(category.id)"
              class="px-3 py-1 bg-red-500 text-white rounded-md hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2"
            >
              Delete
            </button>
          </div>
        </ng-container>
        <ng-template #editForm>
          <div *ngIf="editingCategory">
            <input
              type="text"
              [(ngModel)]="editingCategory.name"
              class="flex-grow mr-4 px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
            />
            <div>
              <button
                (click)="saveCategory()"
                class="px-3 py-1 bg-green-500 text-white rounded-md hover:bg-green-600 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 mr-2"
              >
                Save
              </button>
              <button
                (click)="cancelEditing()"
                class="px-3 py-1 bg-gray-500 text-white rounded-md hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2"
              >
                Cancel
              </button>
            </div>
          </div>

        </ng-template>
      </li>
    </ul>
  </div>
</div>

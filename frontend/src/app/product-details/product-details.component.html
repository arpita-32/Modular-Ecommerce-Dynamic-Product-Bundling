<ng-container *ngIf="product$ | async as product; else loading">
  <div *ngIf="product; else notFound" class="border rounded-lg shadow-lg p-4">
    <img [src]="product.imageUrl" [alt]="product.name" class="w-full h-48 object-cover mb-4 rounded-md">
    <h3 class="text-lg font-semibold mb-2">{{ product.name }}</h3>
    <p class="text-gray-600 mb-2">{{ product.description }}</p>
    <p class="font-bold mb-2">Price: ${{ product.price.toFixed(2) }}</p>
    <p class="text-sm text-gray-500 mb-4">Stock: {{ product.stock }}</p>
    <button class="block w-full text-center px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600">
      Add to Cart
    </button>
  </div>
</ng-container>

<ng-template #loading>
  <div class="text-center py-4">
    <p>Loading product details...</p>
  </div>
</ng-template>

<ng-template #notFound>
  <div class="text-center py-4">
    <p>Product not found or an error occurred.</p>
    <p *ngIf="error" class="text-red-500">{{ error }}</p>
    <a routerLink="/" class="text-blue-500 hover:underline">Return to Home</a>
  </div>
</ng-template>
